<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redactedcraft | Official Site</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        :root {
            --primary: #4e9a06;
            --primary-dark: #3a7304;
            --bg-dark: #1a1a1a;
            --panel-bg: #2d2d2d;
            --text-light: #f0f0f0;
            --accent: #e9b96e;
            --tab-inactive: #444;
        }

        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: 'VT323', monospace;
            background-color: var(--bg-dark);
            color: var(--text-light);
            font-size: 1.2rem;
            line-height: 1.6;
            user-select: none; /* Prevents blue selection highlight globally */
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
        }

        img {
            -webkit-user-drag: none; /* Prevents image dragging ghosting */
            user-select: none;
            outline: none;
        }

        h1, h2, h3 {
            font-family: 'Press Start 2P', cursive;
            text-transform: uppercase;
            color: var(--accent);
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            height: 30vh;
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('assets/img/hero_bg.png');
            background-size: cover;
            background-position: center;
            image-rendering: pixelated;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            border-bottom: 8px solid var(--primary);
        }

        .logo {
            image-rendering: pixelated;
            max-width: 240px;
            margin-bottom: 10px;
        }

        .tabs-nav {
            display: flex;
            justify-content: center;
            background: #111;
            padding: 10px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 4px solid var(--primary-dark);
            flex-wrap: wrap;
        }

        .tab-link {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.6rem;
            color: #888;
            padding: 12px 15px;
            cursor: pointer;
            text-decoration: none;
            border: none;
            background: none;
            transition: color 0.2s;
        }

        .tab-link:hover { color: var(--text-light); }
        .tab-link.active { color: var(--primary); border-bottom: 4px solid var(--primary); }

        /* Sub-navigation for Dev Logs */
        .sub-nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            background: #222;
            padding: 10px;
            border: 2px dashed #444;
        }

        .sub-link {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.55rem;
            color: #666;
            padding: 8px 12px;
            cursor: pointer;
            border: 2px solid transparent;
            background: none;
        }

        .sub-link:hover { color: #aaa; }
        .sub-link.active {
            color: var(--accent);
            border-color: var(--accent);
            background: #111;
        }

        .tab-content { display: none; padding: 40px 0; animation: fadeIn 0.3s; }
        .tab-content.active { display: block; }

        .sub-content { display: none; animation: fadeIn 0.2s; }
        .sub-content.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .category-title {
            border-left: 10px solid var(--primary);
            padding-left: 15px;
            margin: 40px 0 20px 0;
            font-size: 1.2rem;
        }

        .block-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 25px;
        }

        .block-item {
            background: #333;
            background-image: linear-gradient(45deg, #2a2a2a 25%, transparent 25%), 
                              linear-gradient(-45deg, #2a2a2a 25%, transparent 25%), 
                              linear-gradient(45deg, transparent 75%, #2a2a2a 75%), 
                              linear-gradient(-45deg, transparent 75%, #2a2a2a 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
            padding: 20px;
            border: 4px solid #444;
            text-align: center;
            cursor: pointer;
            transition: all 0.1s ease;
            box-shadow: 6px 6px 0px #000;
        }

        .block-item:hover { transform: translate(-2px, -2px); box-shadow: 8px 8px 0px #000; border-color: var(--primary); }
        .block-item img { width: 128px; height: 128px; image-rendering: pixelated; margin-bottom: 15px; }
        .block-item span { display: block; font-family: 'Press Start 2P'; font-size: 0.7rem; color: var(--accent); }

        .log-entry {
            background: var(--panel-bg);
            border: 4px solid #444;
            margin-bottom: 40px;
            box-shadow: 8px 8px 0px #000;
            overflow: hidden;
        }

        .log-header {
            background: #111;
            padding: 15px 25px;
            border-bottom: 4px solid var(--primary);
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }

        .log-header h3 { margin: 0; font-size: 0.9rem; }
        .log-date { font-family: 'Press Start 2P'; font-size: 0.6rem; color: var(--primary); }

        .log-body { padding: 25px; }
        .log-image { 
            width: 100%; 
            max-height: 300px; 
            object-fit: cover; 
            image-rendering: pixelated; 
            border-bottom: 4px solid #444;
        }

        #three-canvas { width: 100%; height: 500px; cursor: move; }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.9);
            justify-content: center;
            align-items: center;
            flex-direction: column;
            cursor: default;
            user-select: none;
        }

        .modal-content { 
            width: 512px; 
            height: 512px; 
            image-rendering: pixelated; 
            background-color: transparent;
            border: none;
            outline: none;
            object-fit: contain;
            display: block;
            user-select: none;
            -webkit-user-drag: none;
            caret-color: transparent; /* Hides cursor if accidentally focused */
        }

        #three-container {
            width: 512px;
            height: 512px;
            display: none; /* Shown via JS */
            cursor: grab;
        }
        #three-container:active { cursor: grabbing; }

        .modal-view-toggle {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }

        .view-btn {
            background: #444;
            border: 2px solid #666;
            color: #fff;
            padding: 5px 15px;
            font-family: 'Press Start 2P';
            font-size: 0.6rem;
            cursor: pointer;
        }
        .view-btn.active {
            background: var(--primary);
            border-color: var(--text-light);
        }

        .modal-info { text-align: center; margin-top: 20px; padding: 0 20px; max-width: 600px; }
        .modal-info h3 { margin: 0; color: var(--accent); font-size: 2rem; }
        .modal-info p { color: #ccc; font-size: 1.5rem; }
        .close-modal { position: absolute; top: 20px; right: 30px; font-size: 40px; cursor: pointer; color: white; }

        .download-btn {
            display: inline-block;
            margin-top: 15px;
            padding: 10px 20px;
            background: var(--primary);
            color: #fff;
            text-decoration: none;
            font-family: 'Press Start 2P', cursive;
            font-size: 0.7rem;
            border: 2px solid var(--text-light);
            cursor: pointer;
            transition: background 0.2s;
            outline: none;
        }
        .download-btn:hover { background: var(--primary-dark); }

        .social-links { display: flex; gap: 20px; margin-top: 20px; flex-wrap: wrap; }
        .social-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 24px;
            background: #333;
            border: 4px solid #444;
            color: white;
            text-decoration: none;
            font-family: 'Press Start 2P';
            font-size: 0.7rem;
            box-shadow: 4px 4px 0px #000;
        }
        .social-btn.youtube:hover { background: #FF0000; }
        .social-btn.twitch:hover { background: #9146FF; }
        .social-btn.instagram:hover { background: #E1306C; }

        /* New Feature Grid Styles */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin: 40px 0;
        }

        .feature-card {
            background: var(--panel-bg);
            border: 4px solid #444;
            padding: 20px;
            box-shadow: 6px 6px 0px #000;
            transition: transform 0.2s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary);
        }

        .feature-icon {
            font-size: 2rem;
            color: var(--accent);
            margin-bottom: 15px;
        }

        .code-block {
            background: #111;
            border-left: 4px solid var(--primary);
            padding: 15px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            font-size: 0.8rem;
            color: #ccc;
            overflow-x: auto;
            white-space: pre;
        }

        .code-keyword { color: #d7ba7d; }
        .code-type { color: #4ec9b0; }
        .code-string { color: #ce9178; }
        .code-comment { color: #6a9955; }

        .hero-section {
            text-align: center;
            margin-bottom: 50px;
            border-bottom: 4px solid #333;
            padding-bottom: 40px;
        }

        pre { background: #000; padding: 20px; border-radius: 5px; overflow-x: auto; border-left: 5px solid var(--primary); font-family: 'Courier New', Courier, monospace; font-size: 0.9rem; }
        footer { text-align: center; padding: 40px; background: #111; font-size: 0.9rem; color: #666; margin-top: 50px; }
        footer a { color: var(--primary); text-decoration: none; margin: 0 10px; }
        .btn { display: inline-block; background-color: var(--primary); color: white; padding: 12px 24px; text-decoration: none; font-family: 'Press Start 2P', cursive; font-size: 0.7rem; border: 4px solid var(--primary-dark); box-shadow: 4px 4px 0px #000; }
        #vrIcon {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            background: #4e9a06;
            color: white;
            border: 4px solid white;
            padding: 15px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 15px rgba(78, 154, 6, 0.5);
            transition: transform 0.2s;
        }
        #vrIcon:hover { transform: scale(1.1); }
        #vrIcon i { font-size: 24px; }

    </style>
</head>
<body>
    <button id="vrIcon" onclick="window.location.href='./vr/'" title="Enter VR (Quest Only)">
        <i class="fas fa-vr-cardboard"></i>
    </button>


    <header>
        <img src="assets/img/logo.png" alt="Redactedcraft Logo" class="logo">
        <p style="font-family: 'Press Start 2P'; font-size: 0.8rem;">Official Developer Portal</p>
    </header>

    <nav class="tabs-nav">
        <button class="tab-link active" onclick="openTab(event, 'home')">HOME</button>
        <button class="tab-link" onclick="openTab(event, 'assets')">TEXTURES & MODELS</button>
        <button class="tab-link" onclick="openTab(event, 'lore')">LORE</button>
        <button class="tab-link" onclick="openTab(event, 'coding')">DEV LOG</button>
        <button class="tab-link" onclick="openTab(event, 'about')">ABOUT ME</button>
    </nav>

    <div class="container"> 
        
        <!-- HOME TAB -->
        <div id="home" class="tab-content active">
            
            <div class="hero-section">
                <h2>The Art of the Pixel</h2>
                <p style="max-width: 700px; margin: 0 auto 30px auto;">
                    Redactedcraft is an experimental voxel project focused on performance and aesthetic clarity. 
                    Built from scratch in C# using MonoGame, it pushes the boundaries of what a solo dev engine can do.
                </p>
                <a href="https://github.com/Redactedcraft/Redactedcraft/releases/latest" class="btn">
                    <i class="fas fa-download"></i> DOWNLOAD GAME (LATEST)
                </a>
                <div style="margin-top: 15px;">
                    <a href="https://github.com/Redactedcraft/Redactedcraft/releases/latest/download/RedactedCraft.exe" style="color: var(--primary); text-decoration: none; font-family: 'Press Start 2P'; font-size: 0.5rem; border-bottom: 2px solid var(--primary); padding-bottom: 2px;">
                        DIRECT .EXE DOWNLOAD
                    </a>
                </div>
                <br>
                <small style="color: #666;">Available for Windows x64</small>
            </div>

            <h3 class="category-title">Engine Architecture</h3>
            
            <div class="feature-grid">
                
                <!-- Card 1: Terrain -->
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-mountain"></i></div>
                    <h3>Infinite Terrain</h3>
                    <p>Procedural generation using multi-layered Simplex noise for realistic biomes and elevations.</p>
                    <div class="code-block">
<span class="code-keyword">var</span> noise = <span class="code-keyword">new</span> <span class="code-type">FastNoise</span>();
<span class="code-keyword">float</span> height = noise.GetPerlin(x, z);
<span class="code-comment">// Map noise to voxel types</span>
<span class="code-keyword">if</span> (height > 0.6f) <span class="code-keyword">return</span> <span class="code-type">Block</span>.Stone;
<span class="code-keyword">return</span> <span class="code-type">Block</span>.Grass;</div>
                </div>

                <!-- Card 2: Meshing -->
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-cubes"></i></div>
                    <h3>Greedy Meshing</h3>
                    <p>Optimized rendering that merges adjacent faces into single quads to reduce GPU draw calls.</p>
                    <div class="code-block">
<span class="code-comment">// Combine adjacent faces</span>
<span class="code-keyword">for</span> (<span class="code-keyword">int</span> i = 0; i < width; i++) {
  <span class="code-keyword">if</span> (mask[i] != <span class="code-keyword">null</span>) {
     width++; <span class="code-comment">// Extend quad</span>
  }
}
<span class="code-type">Mesh</span>.AddQuad(start, width, height);</div>
                </div>

                <!-- Card 3: Networking -->
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-network-wired"></i></div>
                    <h3>EOS Multiplayer</h3>
                    <p>Built on Epic Online Services for robust P2P networking and seamless lobby management.</p>
                    <div class="code-block">
<span class="code-keyword">var</span> options = <span class="code-keyword">new</span> <span class="code-type">JoinSessionOptions</span> {
  SessionHandle = searchResult
};
_eos.Sessions.JoinSession(options, (<span class="code-keyword">ref</span> info) => {
  <span class="code-type">Logger</span>.Log(<span class="code-string">"Joined Game!"</span>);
});</div>
                </div>

            </div>

            <h3 class="category-title">Hosting & Infrastructure</h3>
            <div class="feature-card" style="margin-top: 20px; border-left: 10px solid #2ea44f;">
                <div class="feature-icon" style="color: #2ea44f;"><i class="fab fa-github"></i></div>
                <h3>Powered by GitHub Pages</h3>
                <p>
                    Redactedcraft is proudly hosted on <strong>GitHub Pages</strong>. We chose this infrastructure for three simple reasons:
                </p>
                <ul style="list-style: none; padding: 0; margin: 20px 0;">
                    <li><i class="fas fa-check" style="color: var(--primary);"></i> <strong>Integrated:</strong> Direct synchronization with our source code for instant updates.</li>
                    <li><i class="fas fa-check" style="color: var(--primary);"></i> <strong>Performance:</strong> High-speed CDN delivery ensured by GitHub's global network.</li>
                    <li><i class="fas fa-check" style="color: var(--primary);"></i> <strong>Sustainable:</strong> It is <strong>100% Free</strong>, allowing us to keep the project open and accessible without server overhead.</li>
                </ul>
            </div>

            <div style="text-align: center; margin-top: 50px;">
                <a href="https://github.com/Redactedcraft/Assets/releases" class="btn" style="background: #333; border-color: #666;">
                    <i class="fas fa-box-open"></i> BROWSE ASSET PACKS
                </a>
            </div>
        </div>

        <!-- TEXTURES TAB -->
        <div id="assets" class="tab-content">
            <h2>Standard Block Library</h2>
            <p>Our textures utilize 16x16 pixel grids with no interpolation, ensuring maximum sharpness.</p>
            
            <h3 class="category-title">Natural Resources</h3>
            <div class="block-gallery" id="nat-gallery"></div>

            <h3 class="category-title">Construction & Utilities</h3>
            <div class="block-gallery" id="util-gallery"></div>

            <h3 class="category-title">Ores & Precious Minerals</h3>
            <div class="block-gallery" id="ore-gallery"></div>

            <h3 class="category-title" style="border-color: #666; color: #888;">Legacy Archive: Experimental Designs</h3>
            <div class="block-gallery" id="legacy-gallery"></div>

            <h3 class="category-title" style="border-color: #444; color: #666;">Legacy Archive: The HD Era (V1)</h3>
            <div class="block-gallery" id="hd-gallery"></div>
        </div>

        
                <div class="model-controls" id="model-buttons"></div>
            </div>
        </div>

        <!-- LORE TAB -->
        <div id="lore" class="tab-content">
            <h2>World Lore</h2>
            <p>The history of Redactedcraft is still being written. Check back later for updates on the world's origins...</p>
        </div>

        <!-- DEV LOG TAB -->
        <div id="coding" class="tab-content">
            <h2>Developer Logs</h2>

            <nav class="sub-nav">
                <button class="sub-link active" onclick="openSubTab(event, 'log-game')">GAME UPDATES</button>
                <button class="sub-link" onclick="openSubTab(event, 'log-website')">WEBSITE UPDATES</button>
            </nav>

            <!-- GAME UPDATES -->
            <div id="log-game" class="sub-content active">
                <div class="log-entry">
                    <div class="log-header">
                        <h3>🔧 Restoring Order: EOS Fixes & Repo Cleanup</h3>
                        <span class="log-date">JAN 12, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>We've just pushed a major update to the <strong>RedactedCraft</strong> repository infrastructure and game configuration.</p>
                        <ul>
                            <li><strong>EOS Service Update:</strong> Strictly using <code>eos-service.onrender.com</code>.</li>
                            <li><strong>Robust Connectivity:</strong> Added automatic credential fallback if remote fails.</li>
                            <li><strong>Repo Cleanup:</strong> Removed sensitive SDK tools; runtime DLLs preserved.</li>
                            <li><strong>Easier Access:</strong> Executable and Source Zip are now in the root.</li>
                        </ul>
                        <p>Check out the latest files on the <a href="https://github.com/Redactedcraft/Redactedcraft" style="color: var(--primary);">GitHub Repository</a>.</p>
                    </div>
                </div>
                <div class="log-entry">
                    <div class="log-header">
                        <h3>🛠️ Developer Update: Pro Build Tools</h3>
                        <span class="log-date">JAN 11, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Revolutionized the development workflow with a new <strong>Unified Build GUI</strong>. The engine now supports automated single-file publishing, integrated project cleanup, and simplified source distribution. We also updated the <strong>ThirdParty SDK</strong> tracking to ensure community builders can compile the game directly from the source zip without missing dependencies.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <div class="log-header">
                        <h3>🧹 Launcher: Legacy Cleanup & Skipping</h3>
                        <span class="log-date">JAN 10, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Cleaned up the launcher's mandatory asset list by removing the deprecated <code>blocks_cubenet_atlas.png</code> requirement. We also fixed a legacy URL issue and improved the skipping logic to ensure users with the latest assets aren't forced into redundant downloads.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <img src="assets/img/Screenshots_bg.png" class="log-image">
                    <div class="log-header">
                        <h3>🛠️ Asset Restoration: Screenshots Background</h3>
                        <span class="log-date">JAN 10, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Fixed a missing UI dependency where the Screenshots management page was lacking its environmental backdrop. We've synchronized <code>Screenshots_bg.png</code> across all distribution channels to ensure UI consistency.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <div class="log-header">
                        <h3>⚡ Launcher: Smart Asset Sync</h3>
                        <span class="log-date">JAN 10, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Optimized the launcher's startup routine to perform a "Smart Sync." The launcher now compares local asset tags and publication dates against the GitHub API. If your assets are already up-to-date, the download phase is skipped entirely.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <div class="log-header">
                        <h3>🪟 Window Focus & UX Fix</h3>
                        <span class="log-date">JAN 10, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Implemented a combination of <code>TopMost</code> timing and Win32 <code>SetForegroundWindow</code> P/Invoke to ensure both the Launcher and Game window correctly pop up on top of other applications during startup.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <div class="log-header">
                        <h3>📡 Multiplayer: EOS Integration</h3>
                        <span class="log-date">JAN 05, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Completed the integration of <strong>Epic Online Services (EOS)</strong>. The game now supports cross-platform P2P networking, friend lists, and seamless session joining via host codes, alongside the classic LAN discovery system.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <div class="log-header">
                        <h3>🗺️ World: Greedy Meshing Optimization</h3>
                        <span class="log-date">DEC 20, 2025</span>
                    </div>
                    <div class="log-body">
                        <p>Implemented an advanced <strong>Greedy Meshing</strong> algorithm. This significantly reduces the number of draw calls by combining adjacent voxel faces into larger quads, resulting in a 400% performance increase in complex terrain.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <div class="log-header">
                        <h3>🚀 Project Start: The MonoGame Migration</h3>
                        <span class="log-date">DEC 01, 2025</span>
                    </div>
                    <div class="log-body">
                        <p>Officially kicked off the transition from the legacy engine to a modern <strong>C# and MonoGame</strong> foundation. This new architecture provides better stability, easier asset management, and a robust platform for future gameplay features.</p>
                    </div>
                </div>
            </div>


            <!-- WEBSITE UPDATES -->
            <div id="log-website" class="sub-content">

                <div class="log-entry">
                    <div class="log-header">
                        <h3>🥽 New Feature: WebXR VR Portal</h3>
                        <span class="log-date">JAN 12, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Meta Quest users rejoice! We've launched an experimental <strong>WebXR VR Portal</strong>. If you are browsing on a Quest 2 or 3, look for the VR icon in the bottom corner to enter an immersive voxel room.</p>
                        <p>The VR room features a central kiosk where you can jump directly back to specific site sections while remaining in your headset.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <div class="log-header">
                        <h3>📱 UX: Mobile 3D Model Support</h3>
                        <span class="log-date">JAN 12, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Optimized the 3D block inspector for touch devices. Mobile users can now rotate and inspect block models using intuitive touch-and-drag gestures, bringing full feature parity between desktop and mobile browsers.</p>
                    </div>
                </div>
                <div class="log-entry">
                    <div class="log-header">
                        <h3>⚖️ Legal Infrastructure: Privacy & Terms</h3>
                        <span class="log-date">JAN 11, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Added dedicated, styled pages for our <strong>Privacy Policy</strong> and <strong>Terms of Service</strong>. These pages provide essential transparency regarding data handling and our integration with Epic Online Services, ensuring a professional and compliant foundation for the project's growth.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <div class="log-header">
                        <h3>♻️ Texture Rotation: Crafting Table retired</h3>
                        <span class="log-date">JAN 11, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Moved the original <strong>Crafting Table</strong> texture to the legacy archive. It has been officially replaced by the <strong>Artificer Bench</strong> in current builds to better align with the game's evolving lore and technical requirements.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <div class="log-header">
                        <h3>�  Home Page Redesign & Technical Showcase</h3>
                        <span class="log-date">JAN 11, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Overhauled the landing page with a professional <strong>Technical Showcase</strong>. Users can now explore the engine's core architecture through interactive feature cards and live C# code snippets. Additionally, we added an <strong>Infrastructure</strong> section explaining our commitment to open and free hosting via GitHub Pages.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <div class="log-header">
                        <h3>📜 New Section: Lore Tab</h3>
                        <span class="log-date">JAN 11, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Added a dedicated <strong>Lore</strong> tab to the site navigation. This section is currently a placeholder but lays the groundwork for documenting the official history and world-building of Redactedcraft in future updates.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <div class="log-header">
                        <h3>🖼️ Texture Viewer & UX Overhaul</h3>
                        <span class="log-date">JAN 11, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Significantly improved the Asset Browser experience. The texture viewer now features a <strong>massive 512px preview</strong> with perfect transparency support and a direct <strong>Download</strong> button for creators. We also polished the site-wide interaction model, eliminating cursor artifacts and text selection highlighting to provide a more app-like feel.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <div class="log-header">
                        <h3>🧹 Repository Consolidation & Cleanup</h3>
                        <span class="log-date">JAN 10, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Streamlined the project structure by moving development reference files to a local archive and removing redundant binaries from the primary source repository. This keeps the game source lightweight, focusing strictly on code and essential assets while delegating asset distribution to our dedicated <strong>Assets</strong> repository.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <div class="log-header">
                        <h3>🎨 Visual Identity & Tabbed Layout</h3>
                        <span class="log-date">JAN 10, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Completely revamped the site architecture to use a tabbed interface. This allows for dedicated spaces for technical documentation, asset browsing, and community info without cluttering the landing page.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <div class="log-header">
                        <h3>📦 Organization Transfer & Branding</h3>
                        <span class="log-date">JAN 10, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Migrated all project repositories to the official <strong>@Redactedcraft</strong> organization on GitHub. This unified our URL structure to <code>redactedcraft.github.io</code> and improved project discoverability.</p>
                    </div>
                </div>

                <div class="log-entry">
                    <div class="log-header">
                        <h3>🔍 3D Model Inspector Integration</h3>
                        <span class="log-date">JAN 10, 2026</span>
                    </div>
                    <div class="log-body">
                        <p>Integrated <strong>Three.js</strong> to create a real-time 3D model viewer. This tool uses the same UV mapping logic as the game engine, allowing users to preview assets in 3D directly from their browser.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ABOUT TAB -->
        <div id="about" class="tab-content">
            <h2>Solo Development</h2>
            <p>Redactedcraft is a passion project developed entirely solo. The goal is to build a modern, high-performance foundation for voxel games that respects the retro aesthetic of the past.</p>
            
            <div class="card" style="margin-top: 30px;">
                <h3>Connect with Redacted</h3>
                <div class="social-links">
                    <a href="https://www.youtube.com/redacted1" class="social-btn youtube" target="_blank">
                        <i class="fab fa-youtube"></i> Redacted's YouTube
                    </a>
                    <a href="https://www.twitch.tv/redactedreal" class="social-btn twitch" target="_blank">
                        <i class="fab fa-twitch"></i> Twitch
                    </a>
                    <a href="https://www.instagram.com/redactedreal/" class="social-btn instagram" target="_blank">
                        <i class="fab fa-instagram"></i> Instagram
                    </a>
                </div>
            </div>
        </div>

    </div>

    <!-- Lightbox -->
    <div id="textureModal" class="modal">
        <span class="close-modal" onclick="closeModal()">&times;</span>
        
        <div class="modal-view-toggle">
            <button id="view2D" class="view-btn active" onclick="setViewMode('2D')">2D NET</button>
            <button id="view3D" class="view-btn" onclick="setViewMode('3D')">3D MODEL</button>
        </div>

        <img class="modal-content" id="modalImg">
        <div id="three-container"></div>

        <div class="modal-info">
            <h3 id="modalName"></h3>
            <p id="modalDesc"></p>
            <button id="modalDownload" class="download-btn">
                <i class="fas fa-download"></i> DOWNLOAD TEXTURE
            </button>
        </div>
    </div>

    <footer>
        <p>&copy; 2026 Redactedcraft Development Team</p>
        <p>
            <a href="privacy.html">Privacy Policy</a> | 
            <a href="terms.html">Terms of Service</a> | 
            <a href="https://github.com/Redactedcraft/Redactedcraft">Source Code</a>
        </p>
    </footer>

    <script>
        const textureData = [
            { id: 'grass', name: 'Grass', cat: 'nat', desc: 'Lush greenery for the surface layer.' },
            { id: 'dirt', name: 'Dirt', cat: 'nat', desc: 'Standard soil found beneath the grass.' },
            { id: 'stone', name: 'Stone', cat: 'nat', desc: 'Dense rock forming the world\'s crust.' },
            { id: 'sand', name: 'Sand', cat: 'nat', desc: 'Fine grains found in deserts and beaches.' },
            { id: 'gravel', name: 'Gravel', cat: 'nat', desc: 'Loose composite of small rocks.' },
            { id: 'wood', name: 'Wood', cat: 'nat', desc: 'Raw timber harvested from trees.' },
            { id: 'leaves', name: 'Leaves', cat: 'nat', desc: 'Translucent foliage from the canopy.' },
            { id: 'water', name: 'Water', cat: 'nat', desc: 'Fluid life-giving substance of the oceans.' },
            { id: 'nullrock', name: 'Nullrock', cat: 'nat', desc: 'A mysterious, dark stone found in the void.' },
            { id: 'plank', name: 'Plank', cat: 'util', desc: 'Refined wood for building structures.' },
            { id: 'glass', name: 'Glass', cat: 'util', desc: 'Smelted sand, perfect for windows.' },
            { id: 'artificer_bench', name: 'Artificer Bench', cat: 'util', desc: 'A specialized station for advanced crafting.' },
            { id: 'chest', name: 'Chest', cat: 'util', desc: 'Storage for your blocks and items.' },
            { id: 'coal', name: 'Coal', cat: 'ore', desc: 'Common fuel source found in stone layers.' },
            { id: 'iron', name: 'Iron', cat: 'ore', desc: 'Essential metal for durable equipment.' },
            { id: 'gold', name: 'Gold', cat: 'ore', desc: 'Rare, heavy metal for the elite.' },
            { id: 'diamond', name: 'Diamond', cat: 'ore', desc: 'The hardest and most precious material.' },
            { id: 'missing', name: 'Missing Texture', cat: 'legacy', desc: 'The iconic purple and black checkerboard fallback for missing assets.' },
            { id: 'crafting_table', name: 'Crafting Table', cat: 'legacy', desc: 'The original workstation, now replaced by the Artificer Bench.' },
            { id: 'legacy/grass_patchy', name: 'Patchy Grass', cat: 'legacy', desc: 'Experimental version with sparse grass coverage.' },
            { id: 'legacy/hd/grass', name: 'HD Grass', cat: 'hd', desc: 'Original high-resolution grass from V1.' },
            { id: 'legacy/hd/dirt', name: 'HD Dirt', cat: 'hd', desc: 'Original high-resolution dirt from V1.' },
            { id: 'legacy/hd/stone', name: 'HD Stone', cat: 'hd', desc: 'Original high-resolution stone from V1.' }
        ];

        function populateGalleries() {
            textureData.forEach(b => {
                const container = document.getElementById(`${b.cat}-gallery`);
                if (!container) return;
                const div = document.createElement('div');
                div.className = 'block-item';
                div.onclick = () => openModal(`assets/img/${b.id}.png`, b.name, b.desc);
                div.innerHTML = `<img src="assets/img/${b.id}.png"><span>${b.name}</span>`;
                container.appendChild(div);
            });
        }

        function openTab(evt, tabName) {
            document.querySelectorAll(".tab-content").forEach(c => {
                c.style.display = "none";
                c.classList.remove("active");
            });
            document.querySelectorAll(".tab-link").forEach(l => l.classList.remove("active"));
            document.getElementById(tabName).style.display = "block";
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
            
        }

        function openSubTab(evt, subName) {
            document.querySelectorAll(".sub-content").forEach(c => {
                c.style.display = "none";
                c.classList.remove("active");
            });
            document.querySelectorAll(".sub-link").forEach(l => l.classList.remove("active"));
            document.getElementById(subName).style.display = "block";
            document.getElementById(subName).classList.add("active");
            evt.currentTarget.classList.add("active");
        }

        // --- 3D Viewer Logic ---
        let scene, camera, renderer, cube;
        let is3DInitialized = false;

        function init3D() {
            const container = document.getElementById('three-container');
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, 1, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            renderer.setSize(512, 512);
            renderer.setPixelRatio(window.devicePixelRatio);
            container.appendChild(renderer.domElement);

            const geometry = new THREE.BoxGeometry(1, 1, 1);
            
            // Face order in THREE.BoxGeometry: 
            // 0: PosX (+x), 1: NegX (-x), 2: PosY (+y), 3: NegY (-y), 4: PosZ (+z), 5: NegZ (-z)
            
            // Tile indices from CubeNetAtlas mapping:
            // PosX: (1,0), NegX: (1,1), PosY: (0,0), NegY: (2,0), PosZ: (0,1), NegZ: (2,1)
            const tiles = [
                {x: 1, y: 0}, // PosX
                {x: 1, y: 1}, // NegX
                {x: 0, y: 0}, // PosY
                {x: 2, y: 0}, // NegY
                {x: 0, y: 1}, // PosZ
                {x: 2, y: 1}  // NegZ
            ];

            const uvAttr = geometry.attributes.uv;
            
            for (let i = 0; i < 6; i++) {
                const u0 = tiles[i].x / 3;
                const v0 = 1 - (tiles[i].y + 1) / 2;
                const u1 = (tiles[i].x + 1) / 3;
                const v1 = 1 - tiles[i].y / 2;

                // Adjust for 0.5px bleed prevention
                const eps = 0.001;
                const su0 = u0 + eps, sv0 = v0 + eps, su1 = u1 - eps, sv1 = v1 - eps;

                const base = i * 4;
                
                // standard winding for three.js BoxGeometry:
                // vertex 0: TL, vertex 1: TR, vertex 2: BL, vertex 3: BR
                
                if (i === 2) { // TOP (+Y)
                    // Rotate top texture so 'front' of block is North? 
                    // Let's use a standard upright mapping.
                    uvAttr.setXY(base,     su0, sv1);
                    uvAttr.setXY(base + 1, su1, sv1);
                    uvAttr.setXY(base + 2, su0, sv0);
                    uvAttr.setXY(base + 3, su1, sv0);
                } else if (i === 3) { // BOTTOM (-Y)
                    uvAttr.setXY(base,     su0, sv1);
                    uvAttr.setXY(base + 1, su1, sv1);
                    uvAttr.setXY(base + 2, su0, sv0);
                    uvAttr.setXY(base + 3, su1, sv0);
                } else { // SIDES
                    uvAttr.setXY(base,     su0, sv1);
                    uvAttr.setXY(base + 1, su1, sv1);
                    uvAttr.setXY(base + 2, su0, sv0);
                    uvAttr.setXY(base + 3, su1, sv0);
                }
            }

            cube = new THREE.Mesh(geometry, []);
            scene.add(cube);

            camera.position.z = 2;
            is3DInitialized = true;
            animate();

            // Unified Input Handling
            const onStart = (x, y) => { isDragging = true; prevMouse = { x, y }; };
            const onEnd = () => { isDragging = false; };
            const onMove = (x, y) => {
                if (!isDragging) return;
                const delta = { x: x - prevMouse.x, y: y - prevMouse.y };
                cube.rotation.y += delta.x * 0.01;
                cube.rotation.x += delta.y * 0.01;
                prevMouse = { x, y };
            };

            // Mouse
            container.onmousedown = (e) => onStart(e.clientX, e.clientY);
            window.onmouseup = onEnd;
            window.onmousemove = (e) => onMove(e.clientX, e.clientY);

            // Touch (Mobile Fix)
            container.ontouchstart = (e) => {
                // Prevent scrolling when rotating model
                if (e.target === renderer.domElement) e.preventDefault();
                onStart(e.touches[0].clientX, e.touches[0].clientY);
            };
            window.ontouchend = onEnd;
            window.ontouchmove = (e) => {
                onMove(e.touches[0].clientX, e.touches[0].clientY);
            };
        }

        function animate() {
            requestAnimationFrame(animate);
            if (cube && !window.isDragging) {
                // Subtle auto-rotation if not interacting
                // cube.rotation.y += 0.005;
            }
            renderer.render(scene, camera);
        }

        function update3DTexture(src) {
            if (!is3DInitialized) init3D();
            const loader = new THREE.TextureLoader();
            loader.load(src, (tex) => {
                tex.magFilter = THREE.NearestFilter;
                tex.minFilter = THREE.NearestFilter;
                const material = new THREE.MeshBasicMaterial({ map: tex, transparent: true });
                cube.material = material;
            });
        }

        function setViewMode(mode) {
            const img = document.getElementById('modalImg');
            const three = document.getElementById('three-container');
            const btn2D = document.getElementById('view2D');
            const btn3D = document.getElementById('view3D');

            if (mode === '3D') {
                img.style.display = 'none';
                three.style.display = 'block';
                btn3D.classList.add('active');
                btn2D.classList.remove('active');
                if (img.src) update3DTexture(img.src);
            } else {
                img.style.display = 'block';
                three.style.display = 'none';
                btn2D.classList.add('active');
                btn3D.classList.remove('active');
            }
        }

        function openModal(src, name, desc) {
            document.getElementById('textureModal').style.display = "flex";
            document.getElementById('modalImg').src = src;
            document.getElementById('modalName').innerText = name;
            document.getElementById('modalDesc').innerText = desc;
            
            // Extract just the filename relative to assets/img
            const relativePath = src.split('assets/img/')[1]; 
            const absoluteUrl = 'https://redactedcraft.github.io/assets/img/' + relativePath;
            const filename = name.toLowerCase().replace(/\s+/g, '_') + '.png';

            const dlBtn = document.getElementById('modalDownload');
            const newBtn = dlBtn.cloneNode(true);
            dlBtn.parentNode.replaceChild(newBtn, dlBtn);
            
            newBtn.onclick = (e) => {
                e.stopPropagation();
                const a = document.createElement('a');
                a.href = absoluteUrl;
                a.download = filename;
                a.target = '_blank';
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
            };

            // Reset to 2D view on open
            setViewMode('2D');
            // Reset cube rotation
            if (cube) { cube.rotation.set(0.4, 0.4, 0); }
        }

        function closeModal() { 
            document.getElementById('textureModal').style.display = "none"; 
        }

        populateGalleries();
        // WebXR / Quest Detection
        async function checkVR() {
            const isDebug = window.location.search.includes('debugvr=1');
            const isQuest = /OculusBrowser|Quest/i.test(navigator.userAgent);
            const vrSupported = navigator.xr && await navigator.xr.isSessionSupported('immersive-vr');
            
            if (isDebug || (isQuest && vrSupported)) {
                document.getElementById('vrIcon').style.display = 'block';
            }
        }
        checkVR();

        // Sync Tabs with URL Hash
        function syncTab() {
            const hash = window.location.hash.replace('#', '');
            if (hash && document.getElementById(hash)) {
                const btn = Array.from(document.querySelectorAll('.tab-link')).find(l => 
                    l.textContent.toLowerCase().includes(hash.toLowerCase()) || 
                    (hash === 'coding' && l.textContent.includes('DEV LOG')) ||
                    (hash === 'assets' && l.textContent.includes('TEXTURES'))
                );
                if (btn) btn.click();
            }
        }
        window.addEventListener('hashchange', syncTab);
        syncTab();

    </script>

</body>
</html>

