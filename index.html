<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Redactedcraft | Official Site</title>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- Three.js for 3D Modeling -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <style>
        :root {
            --primary: #4e9a06;
            --primary-dark: #3a7304;
            --bg-dark: #1a1a1a;
            --panel-bg: #2d2d2d;
            --text-light: #f0f0f0;
            --accent: #e9b96e;
            --tab-inactive: #444;
        }

        body {
            margin: 0;
            font-family: 'VT323', monospace;
            background-color: var(--bg-dark);
            color: var(--text-light);
            font-size: 1.2rem;
            line-height: 1.6;
        }

        h1, h2, h3 {
            font-family: 'Press Start 2P', cursive;
            text-transform: uppercase;
            color: var(--accent);
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            height: 30vh;
            background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.6)), url('assets/img/hero_bg.png');
            background-size: cover;
            background-position: center;
            image-rendering: pixelated;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            border-bottom: 8px solid var(--primary);
        }

        .logo {
            image-rendering: pixelated;
            max-width: 240px;
            margin-bottom: 10px;
        }

        .tabs-nav {
            display: flex;
            justify-content: center;
            background: #111;
            padding: 10px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 4px solid var(--primary-dark);
            flex-wrap: wrap;
        }

        .tab-link {
            font-family: 'Press Start 2P', cursive;
            font-size: 0.6rem;
            color: #888;
            padding: 12px 15px;
            cursor: pointer;
            text-decoration: none;
            border: none;
            background: none;
            transition: color 0.2s;
        }

        .tab-link:hover { color: var(--text-light); }
        .tab-link.active { color: var(--primary); border-bottom: 4px solid var(--primary); }

        .tab-content { display: none; padding: 40px 0; animation: fadeIn 0.3s; }
        .tab-content.active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* Categorized Gallery */
        .category-title {
            border-left: 10px solid var(--primary);
            padding-left: 15px;
            margin: 40px 0 20px 0;
            font-size: 1.2rem;
        }

        .block-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 25px;
        }

        .block-item {
            background: #333;
            background-image: linear-gradient(45deg, #2a2a2a 25%, transparent 25%), 
                              linear-gradient(-45deg, #2a2a2a 25%, transparent 25%), 
                              linear-gradient(45deg, transparent 75%, #2a2a2a 75%), 
                              linear-gradient(-45deg, transparent 75%, #2a2a2a 75%);
            background-size: 20px 20px;
            background-position: 0 0, 0 10px, 10px -10px, -10px 0px;
            padding: 20px;
            border: 4px solid #444;
            text-align: center;
            cursor: pointer;
            transition: all 0.1s ease;
            box-shadow: 6px 6px 0px #000;
        }

        .block-item:hover { transform: translate(-2px, -2px); box-shadow: 8px 8px 0px #000; border-color: var(--primary); }
        .block-item img { width: 128px; height: 128px; image-rendering: pixelated; margin-bottom: 15px; }
        .block-item span { display: block; font-family: 'Press Start 2P'; font-size: 0.7rem; color: var(--accent); }

        /* 3D Viewer */
        #model-viewer-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            background: #000;
            padding: 20px;
            border: 4px solid var(--primary);
            margin-top: 20px;
        }

        #three-canvas {
            width: 100%;
            height: 500px;
            cursor: move;
        }

        .model-controls {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .model-btn {
            background: #333;
            color: white;
            border: 2px solid #555;
            padding: 8px 12px;
            font-family: 'Press Start 2P';
            font-size: 0.5rem;
            cursor: pointer;
        }

        .model-btn:hover { background: var(--primary); }
        .model-btn.active { background: var(--primary); border-color: white; }

        /* Modal / Lightbox */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0; top: 0; width: 100%; height: 100%;
            background-color: rgba(0,0,0,0.9);
            justify-content: center;
            align-items: center;
            flex-direction: column;
        }

        .modal-content {
            max-width: 80%;
            max-height: 60%;
            image-rendering: pixelated;
            border: 8px solid #fff;
        }

        .modal-info { text-align: center; margin-top: 20px; padding: 0 20px; max-width: 600px; }
        .modal-info h3 { margin: 0; color: var(--accent); font-size: 2rem; }
        .modal-info p { color: #ccc; font-size: 1.5rem; }
        .close-modal { position: absolute; top: 20px; right: 30px; font-size: 40px; cursor: pointer; color: white; }

        /* Social Icons */
        .social-links { display: flex; gap: 20px; margin-top: 20px; flex-wrap: wrap; }
        .social-btn {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 12px 24px;
            background: #333;
            border: 4px solid #444;
            color: white;
            text-decoration: none;
            font-family: 'Press Start 2P';
            font-size: 0.7rem;
            box-shadow: 4px 4px 0px #000;
        }
        .social-btn.youtube:hover { background: #FF0000; }
        .social-btn.twitch:hover { background: #9146FF; }

        pre { background: #000; padding: 20px; border-radius: 5px; overflow-x: auto; border-left: 5px solid var(--primary); font-family: 'Courier New', Courier, monospace; font-size: 0.9rem; }
        footer { text-align: center; padding: 40px; background: #111; font-size: 0.9rem; color: #666; margin-top: 50px; }
        footer a { color: var(--primary); text-decoration: none; margin: 0 10px; }
        .btn { display: inline-block; background-color: var(--primary); color: white; padding: 12px 24px; text-decoration: none; font-family: 'Press Start 2P', cursive; font-size: 0.7rem; border: 4px solid var(--primary-dark); box-shadow: 4px 4px 0px #000; }
    </style>
</head>
<body>

    <header>
        <img src="assets/img/logo.png" alt="Redactedcraft Logo" class="logo">
        <p style="font-family: 'Press Start 2P'; font-size: 0.8rem;">Official Developer Portal</p>
    </header>

    <nav class="tabs-nav">
        <button class="tab-link active" onclick="openTab(event, 'home')">HOME</button>
        <button class="tab-link" onclick="openTab(event, 'assets')">TEXTURES</button>
        <button class="tab-link" onclick="openTab(event, 'models')">MODELS (3D)</button>
        <button class="tab-link" onclick="openTab(event, 'coding')">DEV LOG</button>
        <button class="tab-link" onclick="openTab(event, 'about')">ABOUT ME</button>
    </nav>

    <div class="container">
        
        <!-- HOME TAB -->
        <div id="home" class="tab-content active">
            <h2>The Art of the Pixel</h2>
            <p>Redactedcraft is an experimental voxel project focused on performance and aesthetic clarity. Every asset is hand-crafted to fit a specific visual language.</p>
            <div style="text-align: center; margin: 40px 0;">
                <img src="assets/img/hero_bg.png" style="width: 100%; border: 8px solid var(--panel-bg); image-rendering: pixelated; box-shadow: 10px 10px 0px #000;">
            </div>
            <div style="text-align: center;">
                <a href="https://github.com/Redactedcraft/Assets/releases" class="btn">DOWNLOAD LATEST ASSETS (V4)</a>
            </div>
        </div>

        <!-- TEXTURES TAB -->
        <div id="assets" class="tab-content">
            <h2>Standard Block Library</h2>
            <p>Our textures utilize 16x16 pixel grids with no interpolation, ensuring maximum sharpness. Backgrounds shown are checkerboard to highlight transparency.</p>
            
            <h3 class="category-title">Natural Resources</h3>
            <div class="block-gallery" id="nat-gallery"></div>

            <h3 class="category-title">Construction & Utilities</h3>
            <div class="block-gallery" id="util-gallery"></div>

            <h3 class="category-title">Ores & Precious Minerals</h3>
            <div class="block-gallery" id="ore-gallery"></div>

            <h3 class="category-title" style="border-color: #666; color: #888;">Legacy Archive: Experimental Designs</h3>
            <div class="block-gallery" id="legacy-gallery"></div>

            <h3 class="category-title" style="border-color: #444; color: #666;">Legacy Archive: The HD Era (V1)</h3>
            <p style="color: #666; font-size: 0.9rem;">These original high-definition textures were replaced to achieve the current pixel art aesthetic.</p>
            <div class="block-gallery" id="hd-gallery"></div>
        </div>

        <!-- MODELS TAB -->
        <div id="models" class="tab-content">
            <h2>3D Model Inspector</h2>
            <p>Rotate and inspect the geometry of our block types. This viewer uses exact UV mapping from the 3x2 cube-net textures.</p>
            
            <div id="model-viewer-container">
                <div id="three-canvas"></div>
                <div class="model-controls" id="model-buttons">
                    <!-- Buttons added via script -->
                </div>
            </div>
        </div>

        <!-- CODING TAB -->
        <div id="coding" class="tab-content">
            <h2>Dev Logs</h2>
            <h3>üèóÔ∏è Custom 3D Door Logic</h3>
            <p>Unlike standard blocks, doors require a custom coordinate space to handle the protruding knob and proper hinge rotation.</p>
            <pre>
// Protruding 3D Knob Element
elements.Add(new BlockModelElement {
    From = open ? new Vector3(2, 12, 12) : new Vector3(12, 12, 2),
    To = open ? new Vector3(4, 14, 14) : new Vector3(14, 14, 4)
});
            </pre>
        </div>

        <!-- ABOUT TAB -->
        <div id="about" class="tab-content">
            <h2>Solo Development</h2>
            <p>Redactedcraft is a passion project developed entirely solo. The goal is to build a modern, high-performance foundation for voxel games that respects the retro aesthetic of the past.</p>
            
            <div class="card" style="margin-top: 30px;">
                <h3>Connect with Redacted</h3>
                <div class="social-links">
                    <a href="https://www.youtube.com/redacted1" class="social-btn youtube" target="_blank">
                        <i class="fab fa-youtube"></i> Redacted's YouTube
                    </a>
                    <a href="https://www.twitch.tv/redactedreal" class="social-btn twitch" target="_blank">
                        <i class="fab fa-twitch"></i> Twitch
                    </a>
                </div>
            </div>
        </div>

    </div>

    <!-- Lightbox -->
    <div id="textureModal" class="modal" onclick="closeModal()">
        <span class="close-modal">&times;</span>
        <img class="modal-content" id="modalImg">
        <div class="modal-info">
            <h3 id="modalName"></h3>
            <p id="modalDesc"></p>
        </div>
    </div>

    <footer>
        <p>&copy; 2026 Redactedcraft Development Team</p>
        <p>
            <a href="privacy.html">Privacy Policy</a> | 
            <a href="terms.html">Terms of Service</a> | 
            <a href="https://github.com/Redactedcraft/Redactedcraft">Source Code</a>
        </p>
    </footer>

    <script>
        const blocks = [
            // Natural
            { id: 'grass', name: 'Grass', cat: 'nat', desc: 'Lush greenery for the surface layer.' },
            { id: 'dirt', name: 'Dirt', cat: 'nat', desc: 'Standard soil found beneath the grass.' },
            { id: 'stone', name: 'Stone', cat: 'nat', desc: 'Dense rock forming the world\'s crust.' },
            { id: 'sand', name: 'Sand', cat: 'nat', desc: 'Fine grains found in deserts and beaches.' },
            { id: 'gravel', name: 'Gravel', cat: 'nat', desc: 'Loose composite of small rocks.' },
            { id: 'wood', name: 'Wood', cat: 'nat', desc: 'Raw timber harvested from trees.' },
            { id: 'leaves', name: 'Leaves', cat: 'nat', desc: 'Translucent foliage from the canopy.' },
            { id: 'water', name: 'Water', cat: 'nat', desc: 'Fluid life-giving substance of the oceans.' },
            { id: 'bedrock', name: 'Bedrock', cat: 'nat', desc: 'The unbreakable floor of the world.' },
            // Utility
            { id: 'plank', name: 'Plank', cat: 'util', desc: 'Refined wood for building structures.' },
            { id: 'glass', name: 'Glass', cat: 'util', desc: 'Smelted sand, perfect for windows.' },
            { id: 'door', name: 'Door', cat: 'util', desc: 'A functional entryway with a 3D knob.' },
            { id: 'crafting_table', name: 'Crafting Table', cat: 'util', desc: 'The workstation for all advanced tools.' },
            { id: 'chest', name: 'Chest', cat: 'util', desc: 'Storage for your blocks and items.' },
            // Ores
            { id: 'coal', name: 'Coal', cat: 'ore', desc: 'Common fuel source found in stone layers.' },
            { id: 'iron', name: 'Iron', cat: 'ore', desc: 'Essential metal for durable equipment.' },
            { id: 'gold', name: 'Gold', cat: 'ore', desc: 'Rare, heavy metal for the elite.' },
            { id: 'diamond', name: 'Diamond', cat: 'ore', desc: 'The hardest and most precious material.' },
            // Legacy
            { id: 'legacy/grass_patchy', name: 'Patchy Grass', cat: 'legacy', desc: 'An experimental version with sparse grass coverage. Retired for a cleaner look.' },
            // HD Era
            { id: 'legacy/hd/grass', name: 'HD Grass', cat: 'hd', desc: 'The original high-resolution grass texture from the V1 release.' },
            { id: 'legacy/hd/dirt', name: 'HD Dirt', cat: 'hd', desc: 'Detailed soil texture used in the early stages of development.' },
            { id: 'legacy/hd/stone', name: 'HD Stone', cat: 'hd', desc: 'Original stone texture featuring realistic cracks and weathering.' },
            { id: 'legacy/hd/wood', name: 'HD Wood', cat: 'hd', desc: 'High-detail timber planks from the HD experimental phase.' },
            { id: 'legacy/hd/leaves', name: 'HD Leaves', cat: 'hd', desc: 'Original photorealistic foliage design.' },
            { id: 'legacy/hd/sand', name: 'HD Sand', cat: 'hd', desc: 'High-resolution desert sand with fine grain detail.' },
            { id: 'legacy/hd/water', name: 'HD Water', cat: 'hd', desc: 'The initial realistic water texture.' }
        ];

        function populateGalleries() {
            blocks.forEach(b => {
                const container = document.getElementById(`${b.cat}-gallery`);
                if (!container) return;
                const div = document.createElement('div');
                div.className = 'block-item';
                div.onclick = () => openModal(`assets/img/${b.id}.png`, b.name, b.desc);
                div.innerHTML = `<img src="assets/img/${b.id}.png"><span>${b.name}</span>`;
                container.appendChild(div);
            });
        }

        function openTab(evt, tabName) {
            document.querySelectorAll(".tab-content").forEach(c => {
                c.style.display = "none";
                c.classList.remove("active");
            });
            document.querySelectorAll(".tab-link").forEach(l => l.classList.remove("active"));
            document.getElementById(tabName).style.display = "block";
            document.getElementById(tabName).classList.add("active");
            evt.currentTarget.classList.add("active");
            if(tabName === 'models') initThree();
        }

        function openModal(src, name, desc) {
            document.getElementById('textureModal').style.display = "flex";
            document.getElementById('modalImg').src = src;
            document.getElementById('modalName').innerText = name;
            document.getElementById('modalDesc').innerText = desc;
        }

        function closeModal() { document.getElementById('textureModal').style.display = "none"; }

        /* THREE.JS 3D Logic */
        let scene, camera, renderer, cube;
        function initThree() {
            if (scene) return; 
            const container = document.getElementById('three-canvas');
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
            renderer = new THREE.WebGLRenderer({ antialias: false, alpha: true });
            renderer.setSize(container.clientWidth, container.clientHeight);
            container.appendChild(renderer.domElement);

            const light = new THREE.AmbientLight(0xffffff, 1.0);
            scene.add(light);
            
            camera.position.z = 2;
            camera.position.y = 1;
            camera.lookAt(0,0,0);

            loadModel('grass');
            animate();

            const btnContainer = document.getElementById('model-buttons');
            blocks.forEach(b => {
                const btn = document.createElement('button');
                btn.className = 'model-btn';
                btn.innerText = b.name;
                btn.onclick = () => {
                    document.querySelectorAll('.model-btn').forEach(bb => bb.classList.remove('active'));
                    btn.classList.add('active');
                    loadModel(b.id);
                };
                btnContainer.appendChild(btn);
            });
        }

        function loadModel(id) {
            if(cube) scene.remove(cube);
            const loader = new THREE.TextureLoader();
            const texture = loader.load(`assets/img/${id}.png`, (tex) => {
                // Ensure correct filtering
                tex.magFilter = THREE.NearestFilter;
                tex.minFilter = THREE.NearestFilter;
                tex.needsUpdate = true;
            });

            // 3x2 Cube Net Layout UV Mapping
            // Row 0 (Top): [0.5, 1.0]
            // Row 1 (Bottom): [0, 0.5]
            // Col 0: [0, 0.333], Col 1: [0.333, 0.666], Col 2: [0.666, 1.0]
            
            // UV Order in BoxGeometry: 
            // 0: Right (PosX), 1: Left (NegX), 2: Top (PosY), 3: Bottom (NegY), 4: Front (PosZ), 5: Back (NegZ) 
            
            const uvs = new Float32Array([
                // PosX: (0,0) Top Row, 1st Col
                0, 1,  0.333, 1,  0, 0.5,  0.333, 0.5,
                // NegX: (1,1) Bottom Row, 2nd Col
                0.333, 0.5,  0.666, 0.5,  0.333, 0,  0.666, 0,
                // PosY: (2,0) Top Row, 3rd Col
                0.666, 1,  1, 1,  0.666, 0.5,  1, 0.5,
                // NegY: (0,1) Bottom Row, 1st Col
                0, 0.5,  0.333, 0.5,  0, 0,  0.333, 0,
                // PosZ: (1,0) Top Row, 2nd Col
                0.333, 1,  0.666, 1,  0.333, 0.5,  0.666, 0.5,
                // NegZ: (2,1) Bottom Row, 3rd Col
                0.666, 0.5,  1, 0.5,  0.666, 0,  1, 0
            ]);

            const geometry = new THREE.BoxGeometry(1, 1, 1);
            geometry.setAttribute('uv', new THREE.BufferAttribute(uvs, 2));
            
            const material = new THREE.MeshStandardMaterial({ map: texture, transparent: true, side: THREE.DoubleSide });
            cube = new THREE.Mesh(geometry, material);
            scene.add(cube);
        }

        function animate() {
            requestAnimationFrame(animate);
            if(cube) {
                cube.rotation.y += 0.01;
            }
            renderer.render(scene, camera);
        }

        window.addEventListener('resize', () => {
            if(!renderer) return;
            const container = document.getElementById('three-canvas');
            camera.aspect = container.clientWidth / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        });

        populateGalleries();
    </script>

</body>
</html>